<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>تحميل العاب متعددة الملفات</title>
<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&display=swap" rel="stylesheet">
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    font-family: 'Cairo', sans-serif;
    background: linear-gradient(135deg, #0a0a0a, #1a1a1a, #0a0a0a);
    background-size: 300% 300%;
    animation: gradientBG 8s ease infinite;
    color: #e6ffe6;
    display:flex;
    justify-content:center;
    align-items:center;
    min-height:100vh;
    padding:20px;
  }
  @keyframes gradientBG {
    0% {background-position:0% 50%;}
    50% {background-position:100% 50%;}
    100% {background-position:0% 50%;}
  }

  .main-container {
    width:100%;
    max-width:900px;
    background: rgba(0,0,0,0.8);
    border-radius:20px;
    padding:35px;
    backdrop-filter: blur(12px);
    box-shadow: 0 8px 40px rgba(0,0,0,0.9);
    animation: fadeIn 1s ease;
    position: relative;
  }
  @keyframes fadeIn { 
    from {opacity:0; transform:translateY(40px);} 
    to {opacity:1; transform:translateY(0);} 
  }

  .folder-section { text-align:center; margin-bottom:30px; }
  .flag-icon {
    font-size:3rem;
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    animation: pulse 2s infinite;
  }
  @keyframes pulse { 
    0%,100%{transform:scale(1);} 
    50%{transform:scale(1.2);} 
  }

  .folder-title {
    font-size:2.3rem;
    margin:15px 0;
    background: linear-gradient(90deg,#ff0000,#ffffff,#00ff6a);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .folder-info {
    font-size:1rem; 
    color:#baffba; 
    margin-top:5px;
  }

  .files-section { margin:25px 0; }
  .game-item {
    border: 1px solid rgba(0,255,100,0.25);
    border-radius:15px;
    padding:18px;
    margin-bottom:15px;
    display:flex; 
    justify-content:space-between; 
    align-items:center;
    background: rgba(255,255,255,0.04);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    position: relative;
    overflow:hidden;
    animation: slideUp 0.7s ease forwards;
    opacity:0;
  }
  @keyframes slideUp { 
    from {transform: translateY(40px); opacity:0;}
    to {transform: translateY(0); opacity:1;}
  }
  .game-item:hover { transform:scale(1.02); box-shadow:0 0 25px #00ff6a55; }

  .game-info { display:flex; flex-direction:column; gap:5px; }
  .game-name { font-weight:700; font-size:1.05rem; }
  .game-size { font-size:0.9rem; color:#99ff99; }

  .part-number {
    position:absolute;
    top:10px; left:10px;
    background:#00ff6a;
    color:#000;
    font-size:0.85rem;
    font-weight:bold;
    border-radius:50%;
    width:26px; height:26px;
    display:flex; align-items:center; justify-content:center;
    box-shadow:0 0 10px #00ff6a88;
  }

  .action-btn {
    padding:13px 35px; 
    font-size:1rem; 
    font-weight:bold;
    border:none; 
    border-radius:40px; 
    color:#000;
    background: linear-gradient(90deg,#00ff6a,#00b347);
    cursor:pointer; 
    transition:0.25s;
    box-shadow: 0 0 15px rgba(0,255,100,0.5);
  }
  .action-btn:hover { transform:scale(1.08); box-shadow:0 0 30px #00ff6a; }
  .action-btn:disabled {opacity:0.8; cursor:not-allowed;}

  .check-icon {
    width:22px; height:22px;
    stroke:#000;
    stroke-width:3;
    fill:none;
    stroke-dasharray:50;
    stroke-dashoffset:50;
    animation: drawCheck 0.6s forwards;
  }
  @keyframes drawCheck { to{stroke-dashoffset:0;} }

  .reset-all-btn {
    display:block;
    margin:30px auto 0 auto;
    padding:14px 35px;
    font-size:1rem;
    font-weight:bold;
    border:none;
    border-radius:15px;
    background: linear-gradient(90deg,#ff0000,#ffffff,#00ff6a);
    color:#000;
    cursor:pointer;
    transition:0.3s;
    box-shadow: 0 0 15px rgba(255,255,255,0.4);
  }
  .reset-all-btn:hover { transform:scale(1.08); box-shadow:0 0 35px #fff; }

  /* لوحة الإدمن */
  #adminPanel {
    display:none;
    position:fixed;
    top:50%; left:50%;
    transform:translate(-50%,-50%);
    background: rgba(0,0,0,0.9);
    padding:25px;
    border-radius:15px;
    z-index:999;
    color:#fff;
    max-width:400px;
    width:90%;
  }
  #adminPanel h2 { text-align:center; margin-bottom:15px; }
  #partsAdminContainer input {
    width:100%; margin-bottom:5px; padding:8px; border-radius:8px; border:none;
  }
  #partsAdminContainer button {
    width:100%; margin-bottom:10px; padding:8px; border-radius:8px; border:none; background:#00ff6a; color:#000; cursor:pointer;
  }
</style>
</head>
<body>
<div class="main-container">
  <div class="folder-section">
    <div class="flag-icon"><span>🇮🇶</span>🕹️</div>
    <h1 class="folder-title">Minecraft</h1>
    <div class="folder-info">
      <span class="downloads-status">التحميلات: <span id="downloadedCount">0</span>/<span id="totalCount">0</span></span>
      <span class="size-info"> | الحجم الكلي: <span id="totalSize">21 GB</span></span>
    </div>
  </div>

  <div class="files-section">
    <div class="files-container" id="partsContainer"></div>
  </div>

  <button class="reset-all-btn" id="resetAllBtn">🔄 إعادة كل الأزرار</button>
  <button class="reset-all-btn" id="adminBtn">🛠️ إدارة الأجزاء</button>
</div>

<!-- نافذة الإدمن -->
<div id="adminPanel">
  <h2>لوحة الإدارة</h2>
  <div id="partsAdminContainer"></div>
  <button id="addPartBtn" class="reset-all-btn">➕ إضافة جزء جديد</button>
  <button id="closeAdminBtn" class="reset-all-btn" style="background:#ff5555;">❌ إغلاق</button>
</div>

<script>
// جلب البيانات من localStorage أو استخدام الافتراضية
let partsData = JSON.parse(localStorage.getItem("partsData")) || [
  {id:'part1',name:'ملف اللعبة - جزء 1',size:'9.90 GB',url:'https://example.com/file1.zip'},
  {id:'part2',name:'ملف اللعبة - جزء 2',size:'9.90 GB',url:'https://example.com/file2.zip'},
  {id:'part3',name:'ملف اللعبة - جزء 3',size:'415.82 MB',url:'https://example.com/file3.zip'},
  {id:'part4',name:'ملف اللعبة - جزء 4',size:'8.50 GB',url:'https://example.com/file4.zip'},
  {id:'part5',name:'ملف اللعبة - جزء 5',size:'7.20 GB',url:'https://example.com/file5.zip'},
];

const container = document.getElementById("partsContainer");
const allButtons = [];
let downloadedCount = 0;

function savePartsData() {
  localStorage.setItem("partsData", JSON.stringify(partsData));
}

// عرض الأجزاء في الواجهة
function refreshPartsUI() {
  container.innerHTML = '';
  allButtons.length = 0;
  downloadedCount = 0;
  document.getElementById("downloadedCount").textContent = 0;
  document.getElementById("totalCount").textContent = partsData.length;

  partsData.forEach((part, i) => {
    const partDiv = document.createElement("div");
    partDiv.classList.add("game-item");
    partDiv.style.animationDelay = `${i*0.15}s`;
    partDiv.innerHTML = `
      <div class="part-number">${i+1}</div>
      <div class="game-info">
        <span class="game-name">${part.name}</span>
        <span class="game-size">${part.size}</span>
      </div>
      <button class="action-btn">تحميل</button>
    `;
    container.appendChild(partDiv);
    const downloadBtn = partDiv.querySelector(".action-btn");
    allButtons.push(downloadBtn);
    downloadBtn.addEventListener("click", () => {
      window.open(part.url, "_blank");
      downloadBtn.innerHTML = `
        <svg class="check-icon" viewBox="0 0 24 24">
          <polyline points="20 6 9 17 4 12"></polyline>
        </svg>
      `;
      downloadBtn.disabled = true;
      downloadedCount++;
      document.getElementById("downloadedCount").textContent = downloadedCount;
    });
  });
}

// زر إعادة كل الأزرار
document.getElementById("resetAllBtn").addEventListener("click", () => {
  allButtons.forEach(btn => {
    btn.textContent = "تحميل";
    btn.disabled = false;
  });
  downloadedCount = 0;
  document.getElementById("downloadedCount").textContent = downloadedCount;
});

// --- لوحة الإدارة ---
const adminBtn = document.getElementById("adminBtn");
const adminPanel = document.getElementById("adminPanel");
const partsAdminContainer = document.getElementById("partsAdminContainer");
const addPartBtn = document.getElementById("addPartBtn");
const closeAdminBtn = document.getElementById("closeAdminBtn");

adminBtn.addEventListener("click", () => adminPanel.style.display = "block");
closeAdminBtn.addEventListener("click", () => adminPanel.style.display = "none");

function renderAdminParts() {
  partsAdminContainer.innerHTML = '';
  partsData.forEach((part, index) => {
    const div = document.createElement("div");
    div.style.marginBottom = "10px";
    div.innerHTML = `
      <input type="text" placeholder="اسم الجزء" value="${part.name}">
      <input type="text" placeholder="حجم الجزء" value="${part.size}">
      <input type="text" placeholder="رابط التحميل" value="${part.url}">
      <button>✔ حفظ التغييرات</button>
    `;
    partsAdminContainer.appendChild(div);
    const [nameInput, sizeInput, urlInput, saveBtn] = div.querySelectorAll("input, button");
    saveBtn.addEventListener("click", () => {
      part.name = nameInput.value;
      part.size = sizeInput.value;
      part.url = urlInput.value;
      savePartsData();
      refreshPartsUI();
      renderAdminParts();
    });
  });
}

// إضافة جزء جديد
addPartBtn.addEventListener("click", () => {
  const newPart = {id:`part${partsData.length+1}`, name:'جزء جديد', size:'0 GB', url:'#'};
  partsData.push(newPart);
  savePartsData();
  refreshPartsUI();
  renderAdminParts();
});

// تهيئة الصفحة
refreshPartsUI();
renderAdminParts();
</script>
</body>
</html>
