<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>ØµÙØ­Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª</title>
  <style>
    * {margin:0;padding:0;box-sizing:border-box;font-family:"Cairo",sans-serif;}
    body {
      background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460);
      color:#fff; display:flex; flex-direction:column; align-items:center; justify-content:center;
      min-height:100vh; padding:20px; transition:background 0.3s, color 0.3s;
    }
    h1 {margin-bottom:15px;font-size:26px;}
    .status {margin-bottom:20px;font-size:18px;}
    .downloads {display:grid;gap:15px;width:100%;max-width:600px;}
    .card {
      background:#0f3460; padding:15px; border-radius:12px; box-shadow:0 4px 12px rgba(0,0,0,0.4);
      display:flex; justify-content:space-between; align-items:center; transition:transform 0.2s;
    }
    .card:hover {transform:scale(1.03);}
    button {
      background:#e94560; color:#fff; border:none; padding:8px 14px; border-radius:8px; cursor:pointer;
      display:flex; align-items:center; gap:6px; font-size:14px; transition:background 0.3s, transform 0.3s;
      position:relative; overflow:hidden;
    }
    button:hover {background:#ff2e63;}
    button:disabled {cursor:default;}
    .checkmark {
      width:18px; height:18px; border-radius:50%; border:2px solid #28a745;
      display:flex; align-items:center; justify-content:center; color:#28a745;
      font-size:14px; opacity:0; transform:scale(0); transition:all 0.4s ease;
    }
    .success .checkmark {opacity:1; transform:scale(1.3) rotate(360deg);}
    .progress-container {margin:20px 0;width:100%;max-width:600px;}
    .progress-bar-bg {background:#ddd;border-radius:20px;overflow:hidden;height:20px;}
    .progress-bar {background:#28a745;height:100%;width:0%;transition:width 0.4s;}
    .controls {margin-top:20px;display:flex;gap:10px;flex-wrap:wrap;}
    .dark-mode {position:fixed;top:15px;left:15px;}
    .last-download {margin-top:10px;font-size:14px;color:#ccc;}
  </style>
</head>
<body>
  <button class="dark-mode" onclick="toggleMode()">ğŸŒ™ / â˜€ï¸</button>
  <h1>Ù…Ø¯ÙŠØ± Ø§Ù„ØªØ­Ù…ÙŠÙ„Ø§Øª</h1>
  <div class="status">
    ØªÙ… ØªØ­Ù…ÙŠÙ„ <span id="downloadedCount">0</span>/<span id="totalCount">0</span> Ù…Ù„ÙØ§Øª
  </div>
  <div class="progress-container">
    <div class="progress-bar-bg"><div id="progressBar" class="progress-bar"></div></div>
  </div>
  <div class="downloads" id="downloadsList"></div>
  <div class="controls">
    <button onclick="downloadAll()">â¬‡ï¸ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„</button>
    <button onclick="resetDownloads()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†</button>
  </div>
  <div class="last-download" id="lastDownload">Ø¢Ø®Ø± ØªØ­Ù…ÙŠÙ„: Ù„Ø§ ÙŠÙˆØ¬Ø¯</div>

  <script>
    const partsData = [
      {id:'part1', name:'Ù…Ù„Ù 1 - 2GB', url:'https://example.com/file1.zip'},
      {id:'part2', name:'Ù…Ù„Ù 2 - 3GB', url:'https://example.com/file2.zip'},
      {id:'part3', name:'Ù…Ù„Ù 3 - 1.5GB', url:'https://example.com/file3.zip'}
    ];

    let downloadedCount = parseInt(localStorage.getItem("downloadedCount")) || 0;
    let lastDownload = localStorage.getItem("lastDownload") || "Ù„Ø§ ÙŠÙˆØ¬Ø¯";

    const downloadsList = document.getElementById("downloadsList");
    const totalCountSpan = document.getElementById("totalCount");
    const downloadedCountSpan = document.getElementById("downloadedCount");
    const progressBar = document.getElementById("progressBar");
    const lastDownloadDiv = document.getElementById("lastDownload");

    function renderParts(){
      downloadsList.innerHTML="";
      partsData.forEach((part,i)=>{
        const card=document.createElement("div");
        card.className="card";
        const span=document.createElement("span");
        span.textContent=part.name;
        const btn=document.createElement("button");
        btn.innerHTML="ØªØ­Ù…ÙŠÙ„";
        btn.onclick=()=>downloadFile(btn,part.url);
        const check=document.createElement("div");
        check.className="checkmark";
        check.innerHTML="âœ”";
        btn.appendChild(check);
        card.appendChild(span);
        card.appendChild(btn);
        downloadsList.appendChild(card);
      });
      totalCountSpan.textContent=partsData.length;
      downloadedCountSpan.textContent=downloadedCount;
      lastDownloadDiv.textContent="Ø¢Ø®Ø± ØªØ­Ù…ÙŠÙ„: "+lastDownload;
      updateProgress();
    }

    function downloadFile(button,url){
      window.open(url,'_blank');
      button.classList.add("success");
      button.disabled=true;
      downloadedCount++;
      localStorage.setItem("downloadedCount",downloadedCount);
      localStorage.setItem("lastDownload",new Date().toLocaleTimeString());
      lastDownload=new Date().toLocaleTimeString();
      updateStatus();
    }

    function updateStatus(){
      downloadedCountSpan.textContent=downloadedCount;
      lastDownloadDiv.textContent="Ø¢Ø®Ø± ØªØ­Ù…ÙŠÙ„: "+lastDownload;
      updateProgress();
    }

    function updateProgress(){
      let percent=(downloadedCount/partsData.length)*100;
      progressBar.style.width=percent+"%";
    }

    function downloadAll(){
      document.querySelectorAll(".downloads button:not(:disabled)").forEach(btn=>btn.click());
    }

    function resetDownloads(){
      downloadedCount=0;
      localStorage.setItem("downloadedCount",0);
      localStorage.setItem("lastDownload","Ù„Ø§ ÙŠÙˆØ¬Ø¯");
      lastDownload="Ù„Ø§ ÙŠÙˆØ¬Ø¯";
      renderParts();
    }

    function toggleMode(){
      if(document.body.style.background.includes("fff")){
        document.body.style.background="linear-gradient(135deg,#1a1a2e,#16213e,#0f3460)";
        document.body.style.color="#fff";
      } else {
        document.body.style.background="#fff";
        document.body.style.color="#000";
      }
    }

    renderParts();
  </script>
</body>
</html>
